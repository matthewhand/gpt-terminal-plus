const mondaySdk = require('monday-sdk-js'); const monday = mondaySdk(); monday.setToken(process.env.MONDAY_TOKEN); const boardId = 2809374317; const itemName = 'Picard'; const genreId = 23718052; const columnId = 'genre6__1'; async function updateSingleItemGenre() { try { const query = 'query { boards(ids: ' + boardId + ') { groups(ids: ["new_group81872"]) { items_page { items { id name } } } } }'; const res = await monday.api(query); const items = res.data.boards[0].groups[0].items_page.items; const item = items.find(item => item.name === itemName); if (item) { const mutation = 'mutation { change_column_value(board_id: ' + boardId + ', item_id: ' + item.id + ', column_id: "' + columnId + '", value: "' + genreId + '") { id } }'; await monday.api(mutation); console.log('Updated item:', item.name, 'with genre ID:', genreId); } else { console.log('Item not found:', itemName); } } catch (error) { console.error('Failed to update item:', error); } } updateSingleItemGenre();
