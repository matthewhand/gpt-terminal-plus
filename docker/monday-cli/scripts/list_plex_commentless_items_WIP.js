const mondaySdk = require('monday-sdk-js'); const monday = mondaySdk(); monday.setToken(process.env.MONDAY_TOKEN); const boardId = 2809374317; const query = 'query { boards(ids: [' + boardId + ']) { items { id name group { id } column_values(ids: ["comments"]) { text } } } }'; monday.api(query).then(res => { console.log('Full API Response:', JSON.stringify(res, null, 2)); if (!res || !res.data || !res.data.boards) { throw new Error('Invalid response structure'); } const items = res.data.boards[0].items.filter(item => item.group.id === 'new_group81872'); const itemsWithoutComments = items.filter(item => !item.column_values[0].text); if (itemsWithoutComments.length === 0) { console.log('All items have comments.'); return; } itemsWithoutComments.forEach(item => { console.log("Item without comments: " + item.name + " (ID: " + item.id + ")"); }); }).catch(err => { console.error('Failed to fetch items:', err); });
