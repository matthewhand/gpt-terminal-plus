const mondaySdk = require('monday-sdk-js'); const monday = mondaySdk(); monday.setToken(process.env.MONDAY_TOKEN); const boardId = 2809374317; const groupId = 'new_group81872'; async function listGenrelessItems() { try { const query = 'query { boards(ids: [' + boardId + ']) { groups(ids: ["' + groupId + '"]) { items_page { items { id name column_values(ids: ["genre6__1"]) { text } } } } } }'; const res = await monday.api(query); console.log('Full API Response:', JSON.stringify(res.data, null, 2)); const items = res.data.boards[0].groups[0].items_page.items; const genrelessItems = items.filter(item => !item.column_values[0].text); if (genrelessItems.length === 0) { console.log('All items have genres.'); return; } genrelessItems.forEach(item => { console.log('Item without genre: ' + item.name + ' (ID: ' + item.id + ')'); }); } catch (error) { console.error('Failed to fetch items:', error); } } listGenrelessItems();
